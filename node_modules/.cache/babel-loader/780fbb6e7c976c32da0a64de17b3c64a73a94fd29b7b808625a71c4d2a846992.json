{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tejit\\\\OneDrive\\\\Desktop\\\\expence-tracker\\\\src\\\\context\\\\ExpenseContext.js\",\n  _s = $RefreshSig$();\n// src/context/ExpenseContext.js\nimport React, { createContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ExpenseContext = /*#__PURE__*/createContext();\nexport const ExpenseProvider = ({\n  children\n}) => {\n  _s();\n  const [expenses, setExpenses] = useState([]);\n  const [incomes, setIncomes] = useState([]);\n  const [budgets, setBudgets] = useState({});\n  const [alerts, setAlerts] = useState([]);\n\n  // Load data from localStorage on initial render\n  useEffect(() => {\n    const savedExpenses = JSON.parse(localStorage.getItem('expenses')) || [];\n    const savedIncomes = JSON.parse(localStorage.getItem('incomes')) || [];\n    const savedBudgets = JSON.parse(localStorage.getItem('budgets')) || {};\n    setExpenses(savedExpenses);\n    setIncomes(savedIncomes);\n    setBudgets(savedBudgets);\n  }, []);\n\n  // Save data to localStorage whenever it changes\n  useEffect(() => {\n    localStorage.setItem('expenses', JSON.stringify(expenses));\n  }, [expenses]);\n  useEffect(() => {\n    localStorage.setItem('incomes', JSON.stringify(incomes));\n  }, [incomes]);\n  useEffect(() => {\n    localStorage.setItem('budgets', JSON.stringify(budgets));\n  }, [budgets]);\n\n  // Add a new expense\n  const addExpense = expense => {\n    const newExpense = {\n      ...expense,\n      id: Date.now(),\n      date: expense.date || new Date().toISOString().slice(0, 10)\n    };\n    setExpenses([...expenses, newExpense]);\n    checkBudgetAlerts(newExpense);\n  };\n\n  // Add a new income\n  const addIncome = income => {\n    const newIncome = {\n      ...income,\n      id: Date.now(),\n      date: income.date || new Date().toISOString().slice(0, 10)\n    };\n    setIncomes([...incomes, newIncome]);\n  };\n\n  // Delete an expense\n  const deleteExpense = id => {\n    setExpenses(expenses.filter(expense => expense.id !== id));\n  };\n\n  // Delete an income\n  const deleteIncome = id => {\n    setIncomes(incomes.filter(income => income.id !== id));\n  };\n\n  // Update budget settings\n  const updateBudget = (category, amount) => {\n    setBudgets({\n      ...budgets,\n      [category]: amount\n    });\n  };\n\n  // Check if adding this expense exceeds the budget\n  const checkBudgetAlerts = newExpense => {\n    const {\n      category\n    } = newExpense;\n    if (budgets[category]) {\n      // Get current month expenses for this category\n      const currentDate = new Date();\n      const currentMonth = currentDate.getMonth();\n      const currentYear = currentDate.getFullYear();\n      const monthlyExpenses = expenses.filter(expense => {\n        const expenseDate = new Date(expense.date);\n        return expenseDate.getMonth() === currentMonth && expenseDate.getFullYear() === currentYear && expense.category === category;\n      });\n      const totalSpent = monthlyExpenses.reduce((sum, expense) => sum + parseFloat(expense.amount), 0) + parseFloat(newExpense.amount);\n      if (totalSpent > budgets[category]) {\n        const newAlert = {\n          id: Date.now(),\n          message: `Budget alert: You've exceeded your ${category} budget of $${budgets[category]}`,\n          category: category,\n          read: false,\n          date: new Date().toISOString()\n        };\n        setAlerts(prevAlerts => [...prevAlerts, newAlert]);\n      }\n    }\n  };\n\n  // Mark an alert as read\n  const markAlertAsRead = id => {\n    setAlerts(alerts.map(alert => alert.id === id ? {\n      ...alert,\n      read: true\n    } : alert));\n  };\n  return /*#__PURE__*/_jsxDEV(ExpenseContext.Provider, {\n    value: {\n      expenses,\n      addExpense,\n      deleteExpense,\n      incomes,\n      addIncome,\n      deleteIncome,\n      budgets,\n      updateBudget,\n      alerts,\n      markAlertAsRead\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 5\n  }, this);\n};\n_s(ExpenseProvider, \"V/db2rFspDhFwBImb04OrrR8pDk=\");\n_c = ExpenseProvider;\nvar _c;\n$RefreshReg$(_c, \"ExpenseProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","jsxDEV","_jsxDEV","ExpenseContext","ExpenseProvider","children","_s","expenses","setExpenses","incomes","setIncomes","budgets","setBudgets","alerts","setAlerts","savedExpenses","JSON","parse","localStorage","getItem","savedIncomes","savedBudgets","setItem","stringify","addExpense","expense","newExpense","id","Date","now","date","toISOString","slice","checkBudgetAlerts","addIncome","income","newIncome","deleteExpense","filter","deleteIncome","updateBudget","category","amount","currentDate","currentMonth","getMonth","currentYear","getFullYear","monthlyExpenses","expenseDate","totalSpent","reduce","sum","parseFloat","newAlert","message","read","prevAlerts","markAlertAsRead","map","alert","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/tejit/OneDrive/Desktop/expence-tracker/src/context/ExpenseContext.js"],"sourcesContent":["// src/context/ExpenseContext.js\r\nimport React, { createContext, useState, useEffect } from 'react';\r\n\r\nexport const ExpenseContext = createContext();\r\n\r\nexport const ExpenseProvider = ({ children }) => {\r\n  const [expenses, setExpenses] = useState([]);\r\n  const [incomes, setIncomes] = useState([]);\r\n  const [budgets, setBudgets] = useState({});\r\n  const [alerts, setAlerts] = useState([]);\r\n  \r\n  // Load data from localStorage on initial render\r\n  useEffect(() => {\r\n    const savedExpenses = JSON.parse(localStorage.getItem('expenses')) || [];\r\n    const savedIncomes = JSON.parse(localStorage.getItem('incomes')) || [];\r\n    const savedBudgets = JSON.parse(localStorage.getItem('budgets')) || {};\r\n    \r\n    setExpenses(savedExpenses);\r\n    setIncomes(savedIncomes);\r\n    setBudgets(savedBudgets);\r\n  }, []);\r\n  \r\n  // Save data to localStorage whenever it changes\r\n  useEffect(() => {\r\n    localStorage.setItem('expenses', JSON.stringify(expenses));\r\n  }, [expenses]);\r\n  \r\n  useEffect(() => {\r\n    localStorage.setItem('incomes', JSON.stringify(incomes));\r\n  }, [incomes]);\r\n  \r\n  useEffect(() => {\r\n    localStorage.setItem('budgets', JSON.stringify(budgets));\r\n  }, [budgets]);\r\n  \r\n  // Add a new expense\r\n  const addExpense = (expense) => {\r\n    const newExpense = {\r\n      ...expense,\r\n      id: Date.now(),\r\n      date: expense.date || new Date().toISOString().slice(0, 10)\r\n    };\r\n    \r\n    setExpenses([...expenses, newExpense]);\r\n    checkBudgetAlerts(newExpense);\r\n  };\r\n  \r\n  // Add a new income\r\n  const addIncome = (income) => {\r\n    const newIncome = {\r\n      ...income,\r\n      id: Date.now(),\r\n      date: income.date || new Date().toISOString().slice(0, 10)\r\n    };\r\n    \r\n    setIncomes([...incomes, newIncome]);\r\n  };\r\n  \r\n  // Delete an expense\r\n  const deleteExpense = (id) => {\r\n    setExpenses(expenses.filter(expense => expense.id !== id));\r\n  };\r\n  \r\n  // Delete an income\r\n  const deleteIncome = (id) => {\r\n    setIncomes(incomes.filter(income => income.id !== id));\r\n  };\r\n  \r\n  // Update budget settings\r\n  const updateBudget = (category, amount) => {\r\n    setBudgets({\r\n      ...budgets,\r\n      [category]: amount\r\n    });\r\n  };\r\n  \r\n  // Check if adding this expense exceeds the budget\r\n  const checkBudgetAlerts = (newExpense) => {\r\n    const { category } = newExpense;\r\n    \r\n    if (budgets[category]) {\r\n      // Get current month expenses for this category\r\n      const currentDate = new Date();\r\n      const currentMonth = currentDate.getMonth();\r\n      const currentYear = currentDate.getFullYear();\r\n      \r\n      const monthlyExpenses = expenses.filter(expense => {\r\n        const expenseDate = new Date(expense.date);\r\n        return expenseDate.getMonth() === currentMonth && \r\n               expenseDate.getFullYear() === currentYear &&\r\n               expense.category === category;\r\n      });\r\n      \r\n      const totalSpent = monthlyExpenses.reduce((sum, expense) => sum + parseFloat(expense.amount), 0) + parseFloat(newExpense.amount);\r\n      \r\n      if (totalSpent > budgets[category]) {\r\n        const newAlert = {\r\n          id: Date.now(),\r\n          message: `Budget alert: You've exceeded your ${category} budget of $${budgets[category]}`,\r\n          category: category,\r\n          read: false,\r\n          date: new Date().toISOString()\r\n        };\r\n        \r\n        setAlerts(prevAlerts => [...prevAlerts, newAlert]);\r\n      }\r\n    }\r\n  };\r\n  \r\n  // Mark an alert as read\r\n  const markAlertAsRead = (id) => {\r\n    setAlerts(alerts.map(alert => \r\n      alert.id === id ? { ...alert, read: true } : alert\r\n    ));\r\n  };\r\n  \r\n  return (\r\n    <ExpenseContext.Provider \r\n      value={{ \r\n        expenses, \r\n        addExpense, \r\n        deleteExpense, \r\n        incomes,\r\n        addIncome,\r\n        deleteIncome,\r\n        budgets, \r\n        updateBudget,\r\n        alerts,\r\n        markAlertAsRead\r\n      }}>\r\n      {children}\r\n    </ExpenseContext.Provider>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}