{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tejit\\\\OneDrive\\\\Desktop\\\\expence tracker final\\\\expence-tracker\\\\src\\\\components\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState, useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { ExpenseContext } from '../context/ExpenseContext';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport BudgetAlerts from './BudgetAlerts';\nimport EnhancedCategoryChart from './EnhancedCategoryChart';\nimport ImprovedBudgetChart from './ImprovedBudgetChart';\nimport { MessageSquare, X, Send } from 'lucide-react';\nimport './Dashboard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const {\n    expenses,\n    budgets,\n    alerts,\n    incomes\n  } = useContext(ExpenseContext);\n  const [chartData, setChartData] = useState([]);\n  const [categoryData, setCategoryData] = useState([]);\n  const [timeframe, setTimeframe] = useState('month');\n  const [isLoading, setIsLoading] = useState(true);\n\n  // AI Chatbot state\n  const [chatOpen, setChatOpen] = useState(false);\n  const [messages, setMessages] = useState([{\n    type: 'bot',\n    text: 'Hi there! I\\'m your financial assistant. Ask me anything about your expenses or budgets.'\n  }]);\n  const [newMessage, setNewMessage] = useState('');\n\n  // Safely calculate current month's data\n  const currentMonthData = useCallback(() => {\n    // Default empty state\n    const defaultData = {\n      totalExpenses: 0,\n      totalIncome: 0,\n      balance: 0\n    };\n\n    // Return default if no data\n    if (!Array.isArray(expenses) || !Array.isArray(incomes)) {\n      return defaultData;\n    }\n    try {\n      const now = new Date();\n      const currentMonth = now.getMonth();\n      const currentYear = now.getFullYear();\n\n      // Filter expenses for current month with error handling\n      const monthlyExpenses = expenses.filter(expense => {\n        if (!expense || !expense.date) return false;\n        try {\n          const expenseDate = new Date(expense.date);\n          return expenseDate.getMonth() === currentMonth && expenseDate.getFullYear() === currentYear;\n        } catch (e) {\n          return false;\n        }\n      });\n\n      // Filter incomes for current month with error handling\n      const monthlyIncome = incomes.filter(income => {\n        if (!income || !income.date) return false;\n        try {\n          const incomeDate = new Date(income.date);\n          return incomeDate.getMonth() === currentMonth && incomeDate.getFullYear() === currentYear;\n        } catch (e) {\n          return false;\n        }\n      });\n\n      // Calculate totals with safeguards against NaN\n      const totalExpenses = monthlyExpenses.reduce((sum, expense) => {\n        const amount = parseFloat(expense.amount);\n        return sum + (isNaN(amount) ? 0 : amount);\n      }, 0);\n      const totalIncome = monthlyIncome.reduce((sum, income) => {\n        const amount = parseFloat(income.amount);\n        return sum + (isNaN(amount) ? 0 : amount);\n      }, 0);\n      return {\n        totalExpenses,\n        totalIncome,\n        balance: totalIncome - totalExpenses\n      };\n    } catch (error) {\n      console.error('Error calculating monthly data:', error);\n      return defaultData;\n    }\n  }, [expenses, incomes]);\n\n  // Safely prepare chart data\n  const prepareChartData = useCallback(() => {\n    if (!Array.isArray(expenses) || expenses.length === 0) {\n      setChartData([]);\n      return;\n    }\n    try {\n      const now = new Date();\n      let filteredExpenses = [];\n      if (timeframe === 'week') {\n        // Last 7 days - use a safer approach with milliseconds\n        const lastWeek = new Date(now);\n        lastWeek.setDate(lastWeek.getDate() - 7);\n        filteredExpenses = expenses.filter(expense => {\n          if (!expense || !expense.date) return false;\n          try {\n            const expenseDate = new Date(expense.date);\n            return expenseDate >= lastWeek;\n          } catch (error) {\n            return false;\n          }\n        });\n      } else if (timeframe === 'month') {\n        // Current month\n        filteredExpenses = expenses.filter(expense => {\n          if (!expense || !expense.date) return false;\n          try {\n            const expenseDate = new Date(expense.date);\n            return expenseDate.getMonth() === now.getMonth() && expenseDate.getFullYear() === now.getFullYear();\n          } catch (error) {\n            return false;\n          }\n        });\n      } else if (timeframe === 'year') {\n        // Current year\n        filteredExpenses = expenses.filter(expense => {\n          if (!expense || !expense.date) return false;\n          try {\n            const expenseDate = new Date(expense.date);\n            return expenseDate.getFullYear() === now.getFullYear();\n          } catch (error) {\n            return false;\n          }\n        });\n      }\n\n      // Group by date\n      const groupedData = {};\n      filteredExpenses.forEach(expense => {\n        if (!expense || !expense.date) return;\n        const date = expense.date;\n        if (!groupedData[date]) {\n          groupedData[date] = 0;\n        }\n        const amount = parseFloat(expense.amount);\n        groupedData[date] += isNaN(amount) ? 0 : amount;\n      });\n\n      // Convert to array for recharts\n      const chartDataArray = Object.keys(groupedData).sort().map(date => ({\n        date,\n        amount: groupedData[date]\n      }));\n      setChartData(chartDataArray);\n    } catch (error) {\n      console.error('Error preparing chart data:', error);\n      setChartData([]);\n    }\n  }, [expenses, timeframe]);\n\n  // Safely prepare category data\n  const prepareCategoryData = useCallback(() => {\n    if (!Array.isArray(expenses) || expenses.length === 0) {\n      setCategoryData([]);\n      return;\n    }\n    try {\n      const now = new Date();\n      let filteredExpenses = [];\n      if (timeframe === 'week') {\n        const lastWeek = new Date(now);\n        lastWeek.setDate(lastWeek.getDate() - 7);\n        filteredExpenses = expenses.filter(expense => {\n          if (!expense || !expense.date) return false;\n          try {\n            const expenseDate = new Date(expense.date);\n            return expenseDate >= lastWeek;\n          } catch (error) {\n            return false;\n          }\n        });\n      } else if (timeframe === 'month') {\n        filteredExpenses = expenses.filter(expense => {\n          if (!expense || !expense.date) return false;\n          try {\n            const expenseDate = new Date(expense.date);\n            return expenseDate.getMonth() === now.getMonth() && expenseDate.getFullYear() === now.getFullYear();\n          } catch (error) {\n            return false;\n          }\n        });\n      } else if (timeframe === 'year') {\n        filteredExpenses = expenses.filter(expense => {\n          if (!expense || !expense.date) return false;\n          try {\n            const expenseDate = new Date(expense.date);\n            return expenseDate.getFullYear() === now.getFullYear();\n          } catch (error) {\n            return false;\n          }\n        });\n      }\n\n      // Group by category\n      const categoryTotals = {};\n      filteredExpenses.forEach(expense => {\n        if (!expense || !expense.category) return;\n        const {\n          category,\n          amount\n        } = expense;\n        if (!categoryTotals[category]) {\n          categoryTotals[category] = 0;\n        }\n        const parsedAmount = parseFloat(amount);\n        categoryTotals[category] += isNaN(parsedAmount) ? 0 : parsedAmount;\n      });\n\n      // Convert to array for recharts\n      const categoryDataArray = Object.keys(categoryTotals).filter(category => categoryTotals[category] > 0) // Only include categories with values\n      .map(category => ({\n        name: category,\n        value: categoryTotals[category]\n      }));\n      setCategoryData(categoryDataArray);\n    } catch (error) {\n      console.error('Error preparing category data:', error);\n      setCategoryData([]);\n    }\n  }, [expenses, timeframe]);\n\n  // Initialize data on first load and when dependencies change\n  useEffect(() => {\n    setIsLoading(true);\n    prepareChartData();\n    prepareCategoryData();\n    setIsLoading(false);\n  }, [expenses, timeframe, incomes, budgets, prepareChartData, prepareCategoryData]);\n\n  // AI Assistant functions\n  const handleSendMessage = () => {\n    if (!newMessage.trim()) return;\n\n    // Add user message\n    setMessages([...messages, {\n      type: 'user',\n      text: newMessage\n    }]);\n\n    // Process the message and generate a response\n    const response = generateAIResponse(newMessage);\n\n    // Add AI response with slight delay for natural feeling\n    setTimeout(() => {\n      setMessages(prevMessages => [...prevMessages, {\n        type: 'bot',\n        text: response\n      }]);\n    }, 500);\n\n    // Clear input\n    setNewMessage('');\n  };\n  const generateAIResponse = message => {\n    // Get financial data for context\n    const financialData = currentMonthData();\n    const {\n      totalExpenses,\n      totalIncome,\n      balance\n    } = financialData;\n\n    // Check for different question types and provide relevant responses\n    const msgLower = message.toLowerCase();\n\n    // Balance related questions\n    if (msgLower.includes('balance') || msgLower.includes('surplus') || msgLower.includes('deficit')) {\n      if (balance >= 0) {\n        return `Your current balance is a surplus of $${balance.toFixed(2)}. You're doing well managing your budget this month!`;\n      } else {\n        return `Your current balance is a deficit of $${Math.abs(balance).toFixed(2)}. You might want to reduce some expenses to balance your budget.`;\n      }\n    }\n\n    // Income related questions\n    if (msgLower.includes('income') || msgLower.includes('earn')) {\n      return `Your total income this month is $${totalIncome.toFixed(2)}.`;\n    }\n\n    // Expense related questions\n    if (msgLower.includes('spend') || msgLower.includes('expense') || msgLower.includes('cost')) {\n      if (categoryData.length > 0) {\n        const topCategory = categoryData.sort((a, b) => b.value - a.value)[0];\n        return `Your total expenses this month are $${totalExpenses.toFixed(2)}. Your highest spending category is \"${topCategory.name}\" at $${topCategory.value.toFixed(2)}.`;\n      } else {\n        return `Your total expenses this month are $${totalExpenses.toFixed(2)}.`;\n      }\n    }\n\n    // Budget related questions\n    if (msgLower.includes('budget') || msgLower.includes('limit')) {\n      if (totalExpenses > totalIncome) {\n        return `You're currently over budget by $${(totalExpenses - totalIncome).toFixed(2)}. Consider cutting back on unnecessary expenses.`;\n      } else {\n        return `You're currently under budget by $${(totalIncome - totalExpenses).toFixed(2)}. Great job managing your finances!`;\n      }\n    }\n\n    // Saving related questions\n    if (msgLower.includes('save') || msgLower.includes('saving')) {\n      const savingRate = balance > 0 ? balance / totalIncome * 100 : 0;\n      return `Based on your current income and expenses, you're saving about ${savingRate.toFixed(1)}% of your income. Financial experts often recommend saving at least 20% of your income.`;\n    }\n\n    // Tips\n    if (msgLower.includes('tip') || msgLower.includes('advice') || msgLower.includes('help')) {\n      const tips = [\"Track all your expenses, even small ones. They add up over time.\", \"Try using the 50/30/20 rule: 50% for needs, 30% for wants, and 20% for savings.\", \"Consider setting up automatic transfers to a savings account when you receive income.\", \"Review your subscriptions regularly to cut unnecessary recurring expenses.\", \"For major purchases, follow the 24-hour rule: wait a day before buying to avoid impulse purchases.\"];\n      return tips[Math.floor(Math.random() * tips.length)];\n    }\n\n    // Default responses\n    const defaultResponses = [\"I can help you understand your spending patterns and budget. What would you like to know?\", \"I can provide insights on your expenses, income, or budget. Feel free to ask specific questions.\", \"Would you like to know about your spending by category, your savings rate, or budget status?\", \"I'm here to help with your financial questions. Ask me about your balance, expenses, or budget.\"];\n    return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];\n  };\n\n  // Handle enter key for sending message\n  const handleKeyPress = e => {\n    if (e.key === 'Enter') {\n      handleSendMessage();\n    }\n  };\n\n  // Safely render the expense line chart\n  const renderExpenseLineChart = () => {\n    if (!chartData || chartData.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No data available for the selected timeframe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n      width: \"100%\",\n      height: 300,\n      children: /*#__PURE__*/_jsxDEV(LineChart, {\n        data: chartData,\n        children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n          strokeDasharray: \"3 3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n          dataKey: \"date\",\n          tick: {\n            fontSize: 12\n          },\n          tickFormatter: date => {\n            try {\n              if (timeframe === 'year') {\n                return new Date(date).toLocaleDateString(undefined, {\n                  month: 'short'\n                });\n              }\n              return new Date(date).toLocaleDateString(undefined, {\n                month: 'numeric',\n                day: 'numeric'\n              });\n            } catch (e) {\n              return date;\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n          tickFormatter: value => `$${value}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n          formatter: value => [`$${parseFloat(value).toFixed(2)}`, 'Amount'],\n          labelFormatter: label => {\n            try {\n              return new Date(label).toLocaleDateString();\n            } catch (e) {\n              return label;\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Line, {\n          type: \"monotone\",\n          dataKey: \"amount\",\n          stroke: \"#8884d8\",\n          activeDot: {\n            r: 8\n          },\n          name: \"Expense\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Safely render the budget comparison bar chart\n  const renderBudgetComparisonChart = () => {\n    if (!categoryData || categoryData.length === 0 || !budgets) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No data available for the selected timeframe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 14\n      }, this);\n    }\n\n    // Map budget data with safeguards\n    const budgetData = categoryData.filter(item => item.name && typeof item.value === 'number').map(item => {\n      const budgetAmount = parseFloat(budgets[item.name] || 0);\n      return {\n        name: item.name,\n        actual: item.value,\n        budget: isNaN(budgetAmount) ? 0 : budgetAmount\n      };\n    }).filter(item => item.actual > 0 || item.budget > 0); // Only include items with values\n\n    if (budgetData.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No budget data available for comparison\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 14\n      }, this);\n    }\n\n    // Use the ImprovedBudgetChart component\n    return /*#__PURE__*/_jsxDEV(ImprovedBudgetChart, {\n      data: budgetData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 12\n    }, this);\n  };\n\n  // Calculate monthly data outside the JSX\n  const monthlyData = currentMonthData();\n  const totalExpenses = monthlyData.totalExpenses;\n  const totalIncome = monthlyData.totalIncome;\n  const balance = monthlyData.balance;\n\n  // Format currency values\n  const formatCurrency = value => {\n    return `$${parseFloat(value).toFixed(2)}`;\n  };\n\n  // Loading indicator\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard loading\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading dashboard data...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Expense Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"action-buttons\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/add\",\n        className: \"action-btn expense-btn\",\n        children: \"Add Expense\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/add-income\",\n        className: \"action-btn income-btn\",\n        children: \"Add Income\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/scan-receipt\",\n        className: \"action-btn scanner-btn\",\n        children: \"Scan Receipt\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 7\n    }, this), Array.isArray(alerts) && alerts.filter(alert => !alert.read).length > 0 && /*#__PURE__*/_jsxDEV(BudgetAlerts, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"summary-boxes\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-box income-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-title\",\n          children: \"Monthly Income\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-value\",\n          children: formatCurrency(totalIncome)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-box expense-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-title\",\n          children: \"Monthly Expenses\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-value\",\n          children: formatCurrency(totalExpenses)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `summary-box balance-box ${balance >= 0 ? 'positive' : 'negative'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-title\",\n          children: \"Balance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-value\",\n          children: formatCurrency(Math.abs(balance))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-label\",\n          children: balance >= 0 ? 'Surplus' : 'Deficit'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"timeframe-selector\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: timeframe === 'week' ? 'active' : '',\n        onClick: () => setTimeframe('week'),\n        children: \"Week\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: timeframe === 'month' ? 'active' : '',\n        onClick: () => setTimeframe('month'),\n        children: \"Month\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: timeframe === 'year' ? 'active' : '',\n        onClick: () => setTimeframe('year'),\n        children: \"Year\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Spending Over Time\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 9\n      }, this), renderExpenseLineChart()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"charts-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Spending by Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 11\n        }, this), categoryData && categoryData.length > 0 ? /*#__PURE__*/_jsxDEV(EnhancedCategoryChart, {\n          data: categoryData,\n          title: \"Spending by Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No data available for the selected timeframe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Budget vs. Actual\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 11\n        }, this), renderBudgetComparisonChart()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `chat-assistant ${chatOpen ? 'open' : ''}`,\n      children: !chatOpen ? /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"chat-toggle-btn\",\n        onClick: () => setChatOpen(true),\n        \"aria-label\": \"Open financial assistant\",\n        children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Financial Assistant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Financial Assistant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"chat-close-btn\",\n            onClick: () => setChatOpen(false),\n            \"aria-label\": \"Close financial assistant\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 547,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-messages\",\n          children: messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `chat-message ${msg.type}`,\n            children: msg.text\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-input-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: newMessage,\n            onChange: e => setNewMessage(e.target.value),\n            onKeyPress: handleKeyPress,\n            placeholder: \"Ask about your finances...\",\n            className: \"chat-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 563,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"chat-send-btn\",\n            onClick: handleSendMessage,\n            \"aria-label\": \"Send message\",\n            children: /*#__PURE__*/_jsxDEV(Send, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 576,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 571,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 533,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 457,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"MfC7KrdjqyLGku0+o/Y1LIbmkM4=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useContext","useState","useEffect","useCallback","Link","ExpenseContext","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","BudgetAlerts","EnhancedCategoryChart","ImprovedBudgetChart","MessageSquare","X","Send","jsxDEV","_jsxDEV","Dashboard","_s","expenses","budgets","alerts","incomes","chartData","setChartData","categoryData","setCategoryData","timeframe","setTimeframe","isLoading","setIsLoading","chatOpen","setChatOpen","messages","setMessages","type","text","newMessage","setNewMessage","currentMonthData","defaultData","totalExpenses","totalIncome","balance","Array","isArray","now","Date","currentMonth","getMonth","currentYear","getFullYear","monthlyExpenses","filter","expense","date","expenseDate","e","monthlyIncome","income","incomeDate","reduce","sum","amount","parseFloat","isNaN","error","console","prepareChartData","length","filteredExpenses","lastWeek","setDate","getDate","groupedData","forEach","chartDataArray","Object","keys","sort","map","prepareCategoryData","categoryTotals","category","parsedAmount","categoryDataArray","name","value","handleSendMessage","trim","response","generateAIResponse","setTimeout","prevMessages","message","financialData","msgLower","toLowerCase","includes","toFixed","Math","abs","topCategory","a","b","savingRate","tips","floor","random","defaultResponses","handleKeyPress","key","renderExpenseLineChart","children","fileName","_jsxFileName","lineNumber","columnNumber","width","height","data","strokeDasharray","dataKey","tick","fontSize","tickFormatter","toLocaleDateString","undefined","month","day","formatter","labelFormatter","label","stroke","activeDot","r","renderBudgetComparisonChart","budgetData","item","budgetAmount","actual","budget","monthlyData","formatCurrency","className","to","alert","read","onClick","title","size","msg","index","onChange","target","onKeyPress","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/tejit/OneDrive/Desktop/expence tracker final/expence-tracker/src/components/Dashboard.js"],"sourcesContent":["import React, { useContext, useState, useEffect, useCallback } from 'react';\r\nimport { Link } from 'react-router-dom'; \r\nimport { ExpenseContext } from '../context/ExpenseContext';\r\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\nimport BudgetAlerts from './BudgetAlerts';\r\nimport EnhancedCategoryChart from './EnhancedCategoryChart';\r\nimport ImprovedBudgetChart from './ImprovedBudgetChart';\r\nimport { MessageSquare, X, Send } from 'lucide-react';\r\nimport './Dashboard.css';\r\n\r\nconst Dashboard = () => {\r\n  const { expenses, budgets, alerts, incomes } = useContext(ExpenseContext);\r\n  const [chartData, setChartData] = useState([]);\r\n  const [categoryData, setCategoryData] = useState([]);\r\n  const [timeframe, setTimeframe] = useState('month');\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  \r\n  // AI Chatbot state\r\n  const [chatOpen, setChatOpen] = useState(false);\r\n  const [messages, setMessages] = useState([\r\n    { type: 'bot', text: 'Hi there! I\\'m your financial assistant. Ask me anything about your expenses or budgets.' }\r\n  ]);\r\n  const [newMessage, setNewMessage] = useState('');\r\n  \r\n  // Safely calculate current month's data\r\n  const currentMonthData = useCallback(() => {\r\n    // Default empty state\r\n    const defaultData = {\r\n      totalExpenses: 0,\r\n      totalIncome: 0,\r\n      balance: 0\r\n    };\r\n    \r\n    // Return default if no data\r\n    if (!Array.isArray(expenses) || !Array.isArray(incomes)) {\r\n      return defaultData;\r\n    }\r\n    \r\n    try {\r\n      const now = new Date();\r\n      const currentMonth = now.getMonth();\r\n      const currentYear = now.getFullYear();\r\n      \r\n      // Filter expenses for current month with error handling\r\n      const monthlyExpenses = expenses.filter(expense => {\r\n        if (!expense || !expense.date) return false;\r\n        \r\n        try {\r\n          const expenseDate = new Date(expense.date);\r\n          return expenseDate.getMonth() === currentMonth && \r\n                 expenseDate.getFullYear() === currentYear;\r\n        } catch (e) {\r\n          return false;\r\n        }\r\n      });\r\n      \r\n      // Filter incomes for current month with error handling\r\n      const monthlyIncome = incomes.filter(income => {\r\n        if (!income || !income.date) return false;\r\n        \r\n        try {\r\n          const incomeDate = new Date(income.date);\r\n          return incomeDate.getMonth() === currentMonth && \r\n                 incomeDate.getFullYear() === currentYear;\r\n        } catch (e) {\r\n          return false;\r\n        }\r\n      });\r\n      \r\n      // Calculate totals with safeguards against NaN\r\n      const totalExpenses = monthlyExpenses.reduce((sum, expense) => {\r\n        const amount = parseFloat(expense.amount);\r\n        return sum + (isNaN(amount) ? 0 : amount);\r\n      }, 0);\r\n      \r\n      const totalIncome = monthlyIncome.reduce((sum, income) => {\r\n        const amount = parseFloat(income.amount);\r\n        return sum + (isNaN(amount) ? 0 : amount);\r\n      }, 0);\r\n      \r\n      return {\r\n        totalExpenses,\r\n        totalIncome,\r\n        balance: totalIncome - totalExpenses\r\n      };\r\n    } catch (error) {\r\n      console.error('Error calculating monthly data:', error);\r\n      return defaultData;\r\n    }\r\n  }, [expenses, incomes]);\r\n  \r\n  // Safely prepare chart data\r\n  const prepareChartData = useCallback(() => {\r\n    if (!Array.isArray(expenses) || expenses.length === 0) {\r\n      setChartData([]);\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const now = new Date();\r\n      let filteredExpenses = [];\r\n      \r\n      if (timeframe === 'week') {\r\n        // Last 7 days - use a safer approach with milliseconds\r\n        const lastWeek = new Date(now);\r\n        lastWeek.setDate(lastWeek.getDate() - 7);\r\n        \r\n        filteredExpenses = expenses.filter(expense => {\r\n          if (!expense || !expense.date) return false;\r\n          \r\n          try {\r\n            const expenseDate = new Date(expense.date);\r\n            return expenseDate >= lastWeek;\r\n          } catch (error) {\r\n            return false;\r\n          }\r\n        });\r\n      } else if (timeframe === 'month') {\r\n        // Current month\r\n        filteredExpenses = expenses.filter(expense => {\r\n          if (!expense || !expense.date) return false;\r\n          \r\n          try {\r\n            const expenseDate = new Date(expense.date);\r\n            return expenseDate.getMonth() === now.getMonth() && \r\n                   expenseDate.getFullYear() === now.getFullYear();\r\n          } catch (error) {\r\n            return false;\r\n          }\r\n        });\r\n      } else if (timeframe === 'year') {\r\n        // Current year\r\n        filteredExpenses = expenses.filter(expense => {\r\n          if (!expense || !expense.date) return false;\r\n          \r\n          try {\r\n            const expenseDate = new Date(expense.date);\r\n            return expenseDate.getFullYear() === now.getFullYear();\r\n          } catch (error) {\r\n            return false;\r\n          }\r\n        });\r\n      }\r\n      \r\n      // Group by date\r\n      const groupedData = {};\r\n      \r\n      filteredExpenses.forEach(expense => {\r\n        if (!expense || !expense.date) return;\r\n        \r\n        const date = expense.date;\r\n        if (!groupedData[date]) {\r\n          groupedData[date] = 0;\r\n        }\r\n        \r\n        const amount = parseFloat(expense.amount);\r\n        groupedData[date] += isNaN(amount) ? 0 : amount;\r\n      });\r\n      \r\n      // Convert to array for recharts\r\n      const chartDataArray = Object.keys(groupedData)\r\n        .sort()\r\n        .map(date => ({\r\n          date,\r\n          amount: groupedData[date]\r\n        }));\r\n        \r\n      setChartData(chartDataArray);\r\n    } catch (error) {\r\n      console.error('Error preparing chart data:', error);\r\n      setChartData([]);\r\n    }\r\n  }, [expenses, timeframe]);\r\n  \r\n  // Safely prepare category data\r\n  const prepareCategoryData = useCallback(() => {\r\n    if (!Array.isArray(expenses) || expenses.length === 0) {\r\n      setCategoryData([]);\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const now = new Date();\r\n      let filteredExpenses = [];\r\n      \r\n      if (timeframe === 'week') {\r\n        const lastWeek = new Date(now);\r\n        lastWeek.setDate(lastWeek.getDate() - 7);\r\n        \r\n        filteredExpenses = expenses.filter(expense => {\r\n          if (!expense || !expense.date) return false;\r\n          \r\n          try {\r\n            const expenseDate = new Date(expense.date);\r\n            return expenseDate >= lastWeek;\r\n          } catch (error) {\r\n            return false;\r\n          }\r\n        });\r\n      } else if (timeframe === 'month') {\r\n        filteredExpenses = expenses.filter(expense => {\r\n          if (!expense || !expense.date) return false;\r\n          \r\n          try {\r\n            const expenseDate = new Date(expense.date);\r\n            return expenseDate.getMonth() === now.getMonth() && \r\n                   expenseDate.getFullYear() === now.getFullYear();\r\n          } catch (error) {\r\n            return false;\r\n          }\r\n        });\r\n      } else if (timeframe === 'year') {\r\n        filteredExpenses = expenses.filter(expense => {\r\n          if (!expense || !expense.date) return false;\r\n          \r\n          try {\r\n            const expenseDate = new Date(expense.date);\r\n            return expenseDate.getFullYear() === now.getFullYear();\r\n          } catch (error) {\r\n            return false;\r\n          }\r\n        });\r\n      }\r\n      \r\n      // Group by category\r\n      const categoryTotals = {};\r\n      \r\n      filteredExpenses.forEach(expense => {\r\n        if (!expense || !expense.category) return;\r\n        \r\n        const { category, amount } = expense;\r\n        if (!categoryTotals[category]) {\r\n          categoryTotals[category] = 0;\r\n        }\r\n        \r\n        const parsedAmount = parseFloat(amount);\r\n        categoryTotals[category] += isNaN(parsedAmount) ? 0 : parsedAmount;\r\n      });\r\n      \r\n      // Convert to array for recharts\r\n      const categoryDataArray = Object.keys(categoryTotals)\r\n        .filter(category => categoryTotals[category] > 0) // Only include categories with values\r\n        .map(category => ({\r\n          name: category,\r\n          value: categoryTotals[category]\r\n        }));\r\n      \r\n      setCategoryData(categoryDataArray);\r\n    } catch (error) {\r\n      console.error('Error preparing category data:', error);\r\n      setCategoryData([]);\r\n    }\r\n  }, [expenses, timeframe]);\r\n  \r\n  // Initialize data on first load and when dependencies change\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    prepareChartData();\r\n    prepareCategoryData();\r\n    setIsLoading(false);\r\n  }, [expenses, timeframe, incomes, budgets, prepareChartData, prepareCategoryData]);\r\n  \r\n  // AI Assistant functions\r\n  const handleSendMessage = () => {\r\n    if (!newMessage.trim()) return;\r\n    \r\n    // Add user message\r\n    setMessages([...messages, { type: 'user', text: newMessage }]);\r\n    \r\n    // Process the message and generate a response\r\n    const response = generateAIResponse(newMessage);\r\n    \r\n    // Add AI response with slight delay for natural feeling\r\n    setTimeout(() => {\r\n      setMessages(prevMessages => [...prevMessages, { type: 'bot', text: response }]);\r\n    }, 500);\r\n    \r\n    // Clear input\r\n    setNewMessage('');\r\n  };\r\n  \r\n  const generateAIResponse = (message) => {\r\n    // Get financial data for context\r\n    const financialData = currentMonthData();\r\n    const { totalExpenses, totalIncome, balance } = financialData;\r\n    \r\n    // Check for different question types and provide relevant responses\r\n    const msgLower = message.toLowerCase();\r\n    \r\n    // Balance related questions\r\n    if (msgLower.includes('balance') || msgLower.includes('surplus') || msgLower.includes('deficit')) {\r\n      if (balance >= 0) {\r\n        return `Your current balance is a surplus of $${balance.toFixed(2)}. You're doing well managing your budget this month!`;\r\n      } else {\r\n        return `Your current balance is a deficit of $${Math.abs(balance).toFixed(2)}. You might want to reduce some expenses to balance your budget.`;\r\n      }\r\n    }\r\n    \r\n    // Income related questions\r\n    if (msgLower.includes('income') || msgLower.includes('earn')) {\r\n      return `Your total income this month is $${totalIncome.toFixed(2)}.`;\r\n    }\r\n    \r\n    // Expense related questions\r\n    if (msgLower.includes('spend') || msgLower.includes('expense') || msgLower.includes('cost')) {\r\n      if (categoryData.length > 0) {\r\n        const topCategory = categoryData.sort((a, b) => b.value - a.value)[0];\r\n        return `Your total expenses this month are $${totalExpenses.toFixed(2)}. Your highest spending category is \"${topCategory.name}\" at $${topCategory.value.toFixed(2)}.`;\r\n      } else {\r\n        return `Your total expenses this month are $${totalExpenses.toFixed(2)}.`;\r\n      }\r\n    }\r\n    \r\n    // Budget related questions\r\n    if (msgLower.includes('budget') || msgLower.includes('limit')) {\r\n      if (totalExpenses > totalIncome) {\r\n        return `You're currently over budget by $${(totalExpenses - totalIncome).toFixed(2)}. Consider cutting back on unnecessary expenses.`;\r\n      } else {\r\n        return `You're currently under budget by $${(totalIncome - totalExpenses).toFixed(2)}. Great job managing your finances!`;\r\n      }\r\n    }\r\n    \r\n    // Saving related questions\r\n    if (msgLower.includes('save') || msgLower.includes('saving')) {\r\n      const savingRate = balance > 0 ? (balance / totalIncome) * 100 : 0;\r\n      return `Based on your current income and expenses, you're saving about ${savingRate.toFixed(1)}% of your income. Financial experts often recommend saving at least 20% of your income.`;\r\n    }\r\n    \r\n    // Tips\r\n    if (msgLower.includes('tip') || msgLower.includes('advice') || msgLower.includes('help')) {\r\n      const tips = [\r\n        \"Track all your expenses, even small ones. They add up over time.\",\r\n        \"Try using the 50/30/20 rule: 50% for needs, 30% for wants, and 20% for savings.\",\r\n        \"Consider setting up automatic transfers to a savings account when you receive income.\",\r\n        \"Review your subscriptions regularly to cut unnecessary recurring expenses.\",\r\n        \"For major purchases, follow the 24-hour rule: wait a day before buying to avoid impulse purchases.\"\r\n      ];\r\n      return tips[Math.floor(Math.random() * tips.length)];\r\n    }\r\n    \r\n    // Default responses\r\n    const defaultResponses = [\r\n      \"I can help you understand your spending patterns and budget. What would you like to know?\",\r\n      \"I can provide insights on your expenses, income, or budget. Feel free to ask specific questions.\",\r\n      \"Would you like to know about your spending by category, your savings rate, or budget status?\",\r\n      \"I'm here to help with your financial questions. Ask me about your balance, expenses, or budget.\"\r\n    ];\r\n    \r\n    return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];\r\n  };\r\n  \r\n  // Handle enter key for sending message\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter') {\r\n      handleSendMessage();\r\n    }\r\n  };\r\n  \r\n  // Safely render the expense line chart\r\n  const renderExpenseLineChart = () => {\r\n    if (!chartData || chartData.length === 0) {\r\n      return <p>No data available for the selected timeframe</p>;\r\n    }\r\n\r\n    return (\r\n      <ResponsiveContainer width=\"100%\" height={300}>\r\n        <LineChart data={chartData}>\r\n          <CartesianGrid strokeDasharray=\"3 3\" />\r\n          <XAxis \r\n            dataKey=\"date\"\r\n            tick={{ fontSize: 12 }}\r\n            tickFormatter={(date) => {\r\n              try {\r\n                if (timeframe === 'year') {\r\n                  return new Date(date).toLocaleDateString(undefined, { month: 'short' });\r\n                }\r\n                return new Date(date).toLocaleDateString(undefined, { month: 'numeric', day: 'numeric' });\r\n              } catch (e) {\r\n                return date;\r\n              }\r\n            }}\r\n          />\r\n          <YAxis \r\n            tickFormatter={(value) => `$${value}`}\r\n          />\r\n          <Tooltip \r\n            formatter={(value) => [`$${parseFloat(value).toFixed(2)}`, 'Amount']}\r\n            labelFormatter={(label) => {\r\n              try {\r\n                return new Date(label).toLocaleDateString();\r\n              } catch (e) {\r\n                return label;\r\n              }\r\n            }}\r\n          />\r\n          <Legend />\r\n          <Line \r\n            type=\"monotone\" \r\n            dataKey=\"amount\" \r\n            stroke=\"#8884d8\" \r\n            activeDot={{ r: 8 }} \r\n            name=\"Expense\"\r\n          />\r\n        </LineChart>\r\n      </ResponsiveContainer>\r\n    );\r\n  };\r\n\r\n  // Safely render the budget comparison bar chart\r\n  const renderBudgetComparisonChart = () => {\r\n    if (!categoryData || categoryData.length === 0 || !budgets) {\r\n      return <p>No data available for the selected timeframe</p>;\r\n    }\r\n\r\n    // Map budget data with safeguards\r\n    const budgetData = categoryData\r\n      .filter(item => item.name && typeof item.value === 'number')\r\n      .map(item => {\r\n        const budgetAmount = parseFloat(budgets[item.name] || 0);\r\n        return {\r\n          name: item.name,\r\n          actual: item.value,\r\n          budget: isNaN(budgetAmount) ? 0 : budgetAmount\r\n        };\r\n      })\r\n      .filter(item => item.actual > 0 || item.budget > 0); // Only include items with values\r\n\r\n    if (budgetData.length === 0) {\r\n      return <p>No budget data available for comparison</p>;\r\n    }\r\n\r\n    // Use the ImprovedBudgetChart component\r\n    return <ImprovedBudgetChart data={budgetData} />;\r\n  };\r\n  \r\n  // Calculate monthly data outside the JSX\r\n  const monthlyData = currentMonthData();\r\n  const totalExpenses = monthlyData.totalExpenses;\r\n  const totalIncome = monthlyData.totalIncome;\r\n  const balance = monthlyData.balance;\r\n  \r\n  // Format currency values\r\n  const formatCurrency = (value) => {\r\n    return `$${parseFloat(value).toFixed(2)}`;\r\n  };\r\n  \r\n  // Loading indicator\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"dashboard loading\">\r\n        <p>Loading dashboard data...</p>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <div className=\"dashboard\">\r\n      <h1>Expense Dashboard</h1>\r\n      \r\n      <div className=\"action-buttons\">\r\n        <Link to=\"/add\" className=\"action-btn expense-btn\">Add Expense</Link>\r\n        <Link to=\"/add-income\" className=\"action-btn income-btn\">Add Income</Link>\r\n        <Link to=\"/scan-receipt\" className=\"action-btn scanner-btn\">Scan Receipt</Link>\r\n      </div>\r\n      \r\n      {/* Show budget alerts if any exist */}\r\n      {Array.isArray(alerts) && alerts.filter(alert => !alert.read).length > 0 && (\r\n        <BudgetAlerts />\r\n      )}\r\n      \r\n      <div className=\"summary-boxes\">\r\n        <div className=\"summary-box income-box\">\r\n          <div className=\"summary-title\">Monthly Income</div>\r\n          <div className=\"summary-value\">{formatCurrency(totalIncome)}</div>\r\n        </div>\r\n        \r\n        <div className=\"summary-box expense-box\">\r\n          <div className=\"summary-title\">Monthly Expenses</div>\r\n          <div className=\"summary-value\">{formatCurrency(totalExpenses)}</div>\r\n        </div>\r\n        \r\n        <div className={`summary-box balance-box ${balance >= 0 ? 'positive' : 'negative'}`}>\r\n          <div className=\"summary-title\">Balance</div>\r\n          <div className=\"summary-value\">{formatCurrency(Math.abs(balance))}</div>\r\n          <div className=\"summary-label\">{balance >= 0 ? 'Surplus' : 'Deficit'}</div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"timeframe-selector\">\r\n        <button \r\n          className={timeframe === 'week' ? 'active' : ''} \r\n          onClick={() => setTimeframe('week')}\r\n        >\r\n          Week\r\n        </button>\r\n        <button \r\n          className={timeframe === 'month' ? 'active' : ''} \r\n          onClick={() => setTimeframe('month')}\r\n        >\r\n          Month\r\n        </button>\r\n        <button \r\n          className={timeframe === 'year' ? 'active' : ''} \r\n          onClick={() => setTimeframe('year')}\r\n        >\r\n          Year\r\n        </button>\r\n      </div>\r\n      \r\n      <div className=\"chart-container\">\r\n        <h2>Spending Over Time</h2>\r\n        {renderExpenseLineChart()}\r\n      </div>\r\n      \r\n      <div className=\"charts-row\">\r\n        <div className=\"chart-container\">\r\n          <h2>Spending by Category</h2>\r\n          {/* Replace the pie chart with the enhanced category chart */}\r\n          {categoryData && categoryData.length > 0 ? (\r\n            <EnhancedCategoryChart data={categoryData} title=\"Spending by Category\" />\r\n          ) : (\r\n            <p>No data available for the selected timeframe</p>\r\n          )}\r\n        </div>\r\n        \r\n        <div className=\"chart-container\">\r\n          <h2>Budget vs. Actual</h2>\r\n          {renderBudgetComparisonChart()}\r\n        </div>\r\n      </div>\r\n      \r\n      {/* AI Chatbot Assistant */}\r\n      <div className={`chat-assistant ${chatOpen ? 'open' : ''}`}>\r\n        {!chatOpen ? (\r\n          <button \r\n            className=\"chat-toggle-btn\" \r\n            onClick={() => setChatOpen(true)}\r\n            aria-label=\"Open financial assistant\"\r\n          >\r\n            <MessageSquare size={24} />\r\n            <span>Financial Assistant</span>\r\n          </button>\r\n        ) : (\r\n          <div className=\"chat-container\">\r\n            <div className=\"chat-header\">\r\n              <h3>Financial Assistant</h3>\r\n              <button \r\n                className=\"chat-close-btn\" \r\n                onClick={() => setChatOpen(false)}\r\n                aria-label=\"Close financial assistant\"\r\n              >\r\n                <X size={18} />\r\n              </button>\r\n            </div>\r\n            <div className=\"chat-messages\">\r\n              {messages.map((msg, index) => (\r\n                <div key={index} className={`chat-message ${msg.type}`}>\r\n                  {msg.text}\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <div className=\"chat-input-container\">\r\n              <input\r\n                type=\"text\"\r\n                value={newMessage}\r\n                onChange={(e) => setNewMessage(e.target.value)}\r\n                onKeyPress={handleKeyPress}\r\n                placeholder=\"Ask about your finances...\"\r\n                className=\"chat-input\"\r\n              />\r\n              <button \r\n                className=\"chat-send-btn\"\r\n                onClick={handleSendMessage}\r\n                aria-label=\"Send message\"\r\n              >\r\n                <Send size={18} />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}